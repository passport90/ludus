<h1><%= @badge.name %></h1>
<h2 class="symbol"><%= @badge.symbol %></h2>
<p>Awarded on <%= @badge.award_date.strftime('%A, %-d %B %Y') %>.</p>
<% if @badge.is_complete %>
  <p>Recipients</p>
<% else %>
  <p>Recipients (incomplete)</p>
<% end %>
<% if @games.length > 0 %>
  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Platform</th>
        <th>Release Date</th>
        <th>Score</th>
      </tr>
    </thead>
    <tbody>
      <% @games.each do |game| %>
        <% score_color = (('gray' unless game.score) || ('red' if game.score < 50) || ('yellow' if game.score < 75) || 'green') %>
        <tr>
          <td><%= link_to game.title, game_path(game), class: 'title' %></td>
          <td><%= link_to game.platform.name, platform_path(game.platform) %></td>
          <td>
            <%= game.release_date.strftime('%A, %-d %B %Y') %>
            <%= '?' unless game.is_date_confirmed %>
          </td>
          <%= tag.td ((game.score if game.score) || 'N/A'), class: "score #{score_color}" %>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>There are no games awarded this badge.</p>
<% end %>
<% if @page_count > 1 %>
  <p>
    There are <%= @page_count %> pages of this list.<br />
    <% @page_count.times do |p| %>
      <% if p == @page %>
        <b><%= p + 1 %></b>
      <% else %>
        <%= link_to p + 1, badge_path(@badge, page: p) %>
      <% end %>
      <%= '|' if p < @page_count - 1 %> 
    <% end %>
  </p>
<% end %>
<p>
  <span class="symbol">✏️</span> <%= link_to "Edit", edit_badge_path(@badge) %><br />
</p>
<p>
  <span class="symbol">🎖</span> <%= link_to "Badges", badges_path(year: @badge.award_date.year) %> <br />
  <span class="symbol">🏠</span> <%= link_to 'Home', root_path %>
</p>